(function(t){function e(e){for(var n,o,l=e[0],s=e[1],c=e[2],m=0,f=[];m<l.length;m++)o=l[m],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,l=1;l<i.length;l++){var s=i[l];0!==a[s]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},a={app:0},r=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=s;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var n=i("64a9"),a=i.n(n);a.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Header")],1)},r=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-card",{attrs:{title:"Card Title","no-body":""}},[i("b-card-header",{attrs:{center:"","header-tag":"nav"}},[i("b-nav",{attrs:{tabs:"",align:"center"}},[i("b-nav-item",{attrs:{to:"/calendar",exact:"","exact-active-class":"active"}},[t._v("Calendar")]),i("b-nav-item",{attrs:{to:"/clients_list",exact:"","exact-active-class":"active"}},[t._v("Clients list")]),i("b-nav-item",{attrs:{to:"/image",exact:"","exact-active-class":"active"}},[t._v("Image")])],1)],1),i("b-card-body",[i("router-view")],1)],1)],1)},l=[],s={name:""},c=s,u=i("2877"),m=Object(u["a"])(c,o,l,!1,null,"41fa1855",null),f=m.exports,d={name:"app",components:{Header:f}},p=d,h=(i("034f"),Object(u["a"])(p,a,r,!1,null,null,null)),b=h.exports,v=i("5f5b"),g=i("8c4f"),_=(i("f9e3"),i("2dd8"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-tabs",{attrs:{"content-class":"mt-3"}},[i("b-tab",{attrs:{title:"Data Detail"}},[i("ClientDataDetail")],1),i("b-tab",{attrs:{title:"Visits Detail"}},[i("ClientVisitDetail")],1),i("b-tab",{attrs:{title:"Client Image"}},[i("ClientImage")],1)],1)],1)}),y=[],x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("b-table",{ref:"table",attrs:{stacked:"",items:t.items,fields:t.fields,dark:""},scopedSlots:t._u([{key:"cell(foto)",fn:function(t){return[i("img",{attrs:{src:t.item.foto,height:"400px",width:"200px"}})]}}])}),i("b-button",{attrs:{variant:"outline-primary"},on:{click:t.showChangerOptions}},[t._v("Show changer options")]),i("b-button",{attrs:{pill:"",variant:"success"},on:{click:t.hideChangerOptions}},[t._v("Hide changer options")])],1),i("div",[t.show?i("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[i("b-form-group",{attrs:{id:"input-1",label:"FIRST NAME:","label-for":"input-2"}},[i("b-form-input",{attrs:{id:"input 1"},model:{value:t.form.first_name,callback:function(e){t.$set(t.form,"first_name",e)},expression:"form.first_name"}})],1),i("b-form-group",{attrs:{id:"input-group-2",label:"LAST NAME:","label-for":"input-2"}},[i("b-form-input",{attrs:{id:"input-3"},model:{value:t.form.last_name,callback:function(e){t.$set(t.form,"last_name",e)},expression:"form.last_name"}})],1),i("b-form-group",{attrs:{id:"input-group-3",label:"TELEPHONE:","label-for":"input-3"}},[i("b-form-input",{attrs:{id:"input-3"},model:{value:t.form.telepfon,callback:function(e){t.$set(t.form,"telepfon",e)},expression:"form.telepfon"}})],1),i("b-form-group",{attrs:{id:"input-group-4",label:"PHOTO:","label-for":"input-4"}},[i("b-form-file",{attrs:{id:"input-4"},model:{value:t.form.foto,callback:function(e){t.$set(t.form,"foto",e)},expression:"form.foto"}})],1),i("b-form-group",{attrs:{id:"input-group-5",label:"IS ACTIVE?"}},[i("b-form-group",{model:{value:t.form.active,callback:function(e){t.$set(t.form,"active",e)},expression:"form.active"}},[i("b-form-radio",{attrs:{name:"active",value:"true"},model:{value:t.form.active,callback:function(e){t.$set(t.form,"active",e)},expression:"form.active"}},[t._v("ACTIVE")]),i("b-form-radio",{attrs:{name:"active",value:"false"},model:{value:t.form.active,callback:function(e){t.$set(t.form,"active",e)},expression:"form.active"}},[t._v("NO ACTIVE")])],1)],1),i("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),i("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1):t._e()],1)])},C=[],D=i("bc3a"),k=i.n(D),w={data:function(){return{items:[],it:{},url:"http://127.0.0.1:8000/listclients/"+this.$route.params.id+"/?format=json",urlPhotoPut:"http://127.0.0.1:8000/photo/"+this.$route.params.id+"/",fields:[{key:"first_name",label:"FIRST NAME"},{key:"last_name",label:"LAST NAME"},{key:"telepfon",label:"PHONE"},{key:"active",label:"ACTIVE",formatter:function(t){return t?"Yes":"No"}},{key:"foto",label:"PHOTO"}],form:{id:"",first_name:"",last_name:"",telepfon:"",active:"",foto:[]},show:!1}},methods:{onSubmit:function(){var t=this,e=new FormData;e.append("foto",this.form.foto),console.log(e,this.form),k.a.put(this.url,this.form,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){t.items=[e.data]})).then((function(){e.get("foto")&&k.a.put(t.urlPhotoPut,e,{headers:{"Content-Type":"multipart/form-data",Accept:"application/json"}}).then((function(e){t.items[0].foto=e.data.foto}))})).catch((function(t){alert("FAILURE!!")})).then((function(){return alert("your changes are accepted!")})).then((function(){return t.hideChangerOptions()})).then((function(){return t.onUpdate()}))},onReset:function(t){var e=this;t.preventDefault(),this.form.first_name=this.it.first_name,this.form.last_name=this.it.last_name,this.form.telepfon=this.it.telepfon,this.form.active=this.it.active,this.show=!1,this.$nextTick((function(){e.show=!0}))},fillingOutFormsWithClientData:function(t){this.form.id=t.id,this.form.first_name=t.first_name,this.form.last_name=t.last_name,this.form.telepfon=t.telepfon,this.form.active=t.active},showChangerOptions:function(){this.show=!0},hideChangerOptions:function(){this.show=!1},onUpdate:function(){this.$refs.table.refresh()}},mounted:function(){var t=this;k.a.get(this.url).then((function(e){t.it=e.data})).then((function(){return t.fillingOutFormsWithClientData(t.it)})).then((function(){t.items=[t.it]})).catch((function(e){console.log(e),t.errored=!0})).finally((function(){return t.loading=!1}))}},I=w,S=Object(u["a"])(I,x,C,!1,null,"65fc8cd8",null),E=S.exports,T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-table",{ref:"table",attrs:{items:t.items,fields:t.fields,striped:"",responsive:"sm"},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[t._v("\n        "+t._s(e.index+1)+"\n    ")]}},{key:"cell(client)",fn:function(e){return[t._v("\n        "+t._s(e.item.client[1].first_name)+"     "+t._s(e.item.client[0].last_name)+"\n    ")]}},{key:"cell(image)",fn:function(e){return[i("b-button",{staticClass:"mr-2",attrs:{size:"sm"},on:{click:function(i){return t.showImage(e.toggleDetails,e.item.date_visit)}}},[t._v("\n            Image\n        ")])]}},{key:"cell(details)",fn:function(e){return[e.detailsShowing?t._e():i("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:function(i){return t.changeVisit(e.toggleDetails,e.item.id)}}},[t._v("\n            Change Visit\n        ")])]}},{key:"row-details",fn:function(e){return[t.showImages?i("div",{staticClass:"p-4 bg-dark"},[i("b-row",t._l(e.item.image,(function(n){return i("b-col",{key:n.id},[n.main_image?i("b-img-lazy",{directives:[{name:"b-modal",rawName:"v-b-modal.mod",modifiers:{mod:!0}}],attrs:{src:n.main_image,height:"200px",width:"300px"},nativeOn:{click:function(i){return t.modalParrametres(n.main_image,e.item.image,n,n.id)}}}):i("b-img",{directives:[{name:"b-modal",rawName:"v-b-modal"}],attrs:{src:n.main_image,height:"200px",width:"300px"},nativeOn:{click:function(i){return t.modalParrametres(n.main_image,e.item.image,n,n.id)}}})],1)})),1),i("b-button",{attrs:{variant:"primary"},on:{click:e.toggleDetails}},[t._v("HIDE")]),i("div",[i("b-dropdown",{ref:"dropdown",attrs:{id:"dropdown-form",text:"Add new image"}},[i("b-dropdown-form",[i("b-form-group",{attrs:{size:"lg"}},[i("b-form-file",{attrs:{size:"lg",plain:""},model:{value:t.addImageForm.main_image,callback:function(e){t.$set(t.addImageForm,"main_image",e)},expression:"addImageForm.main_image"}})],1),i("b-button",{attrs:{pill:"",size:"lg",variant:"primary"},on:{click:function(i){return t.addImage(e.item.id,e.item.image)}}},[t._v("submit")])],1),i("b-dropdown-divider")],1)],1)],1):t.showChangeVisit&&e.item.id===t.itemsVisitDetail.id?i("div",[i("b-card",[i("b-form",{attrs:{inline:""}},[i("b-form-group",{attrs:{id:"input-1",label:"Date:","label-for":"input-1"}},[i("b-form-input",{attrs:{type:"date",id:"input-1"},model:{value:t.form.date_visit,callback:function(e){t.$set(t.form,"date_visit",e)},expression:"form.date_visit"}})],1),i("b-form-group",{attrs:{id:"input-group-2"}},[i("b-form-checkbox",{attrs:{name:"active",value:"true"},model:{value:t.form.manic,callback:function(e){t.$set(t.form,"manic",e)},expression:"form.manic"}},[t._v("MANICURE")])],1),i("b-form-group",{attrs:{id:"input-group-3",l:""}},[i("b-form-checkbox",{attrs:{name:"active",value:"true"},model:{value:t.form.nomanic,callback:function(e){t.$set(t.form,"nomanic",e)},expression:"form.nomanic"}},[t._v("PEDICURE")])],1),i("b-form-group",{attrs:{id:"input-group-4"}},[i("b-form-checkbox",{attrs:{name:"active",value:"true"},model:{value:t.form.cor_manic,callback:function(e){t.$set(t.form,"cor_manic",e)},expression:"form.cor_manic"}},[t._v("MANICURE CORRECTION")])],1),i("b-form-group",{attrs:{id:"input-group-5"}},[i("b-form-checkbox",{attrs:{name:"active",value:"true"},model:{value:t.form.cor_no_manic,callback:function(e){t.$set(t.form,"cor_no_manic",e)},expression:"form.cor_no_manic"}},[t._v("PEDICURE CORRECTION")])],1),i("b-form-group",{attrs:{id:"input-6",label:"PAY:","label-for":"input-2"}},[i("b-form-input",{attrs:{type:"number",id:"input-6"},model:{value:t.form.pay,callback:function(e){t.$set(t.form,"pay",e)},expression:"form.pay"}})],1),i("b-button",{attrs:{pill:"",variant:"success"},on:{click:function(i){return t.onSubmit(t.form.id,e)}}},[t._v("Submit")]),i("b-button",{attrs:{pill:"",variant:"warning"},on:{click:t.onReset}},[t._v("Reset")]),i("b-button",{attrs:{variant:"danger"},on:{click:function(i){return t.onDelete(t.form.id,e)}}},[t._v("DELETE")]),i("b-button",{attrs:{variant:"primary"},on:{click:e.toggleDetails}},[t._v("HIDE")])],1)],1)],1):e.detailsShowing&&!t.showImages||e.toggleDetails()?i("div"):t._e()]}}])}),i("div",[i("b-modal",{ref:"modal",attrs:{id:"mod",size:"xl",centered:""}},[i("b-img",{attrs:{src:t.imageDeleteForm.src,width:"1000px",height:"1000px"}}),i("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.imageDelete(t.imageDeleteForm)}}},[t._v("DELETE")])],1)],1)],1)},P=[],O={data:function(){return{items:null,itemsVisitDetail:{},imagePutId:null,url:"http://127.0.0.1:8000/clients/"+this.$route.params.id+"/?format=json",urlDetailVisit:"http://127.0.0.1:8000/visit_detail/",urlImagePost:"http://127.0.0.1:8000/images/",urlImagePut:"http://127.0.0.1:8000/image_create/",urlImageDelete:"http://127.0.0.1:8000/image_create/",fields:["index",{key:"client",label:"CLIENT"},{key:"date_visit",label:"DATE"},{key:"manic",label:"MANICURE",formatter:function(t){return t?"Yes":"No"}},{key:"nomanic",label:"PEDICURE",formatter:function(t){return t?"Yes":"No"}},{key:"cor_manic",label:"MANICURE CORRECTION",formatter:function(t){return t?"Yes":"No"}},{key:"cor_no_manic",label:"PEDICURE CORRECTION",formatter:function(t){return t?"Yes":"No"}},{key:"pay",label:"PAY"},{key:"image",label:"IMAGE"},"details"],imageDeleteForm:{src:"",row:"",id_refresh:"",id_delete:""},form:{id:"",date_visit:"",manic:"",nomanic:"",cor_manic:"",cor_no_manic:"",pay:"",client:""},addImageForm:{main_image:[],visit:null,item:null},showImages:!1,showChangeVisit:!1}},methods:{showDetails:function(t){var e=this;return k.a.get(this.urlDetailVisit+t+"/").then((function(t){e.itemsVisitDetail=t.data})).catch((function(t){console.log(t),e.errored=!0})).finally((function(){return e.loading=!1}))},showImage:function(t){this.showImages=!0,t(),this.showChangeVisit=!1},modalParrametres:function(t,e,i,n){this.imageDeleteForm.src=t,this.imageDeleteForm.row=e,this.imageDeleteForm.id_refresh=i,this.imageDeleteForm.id_delete=n},changeVisit:function(t,e){var i=this;this.showDetails(e).then((function(){i.form=i.itemsVisitDetail})).then((function(){return t()})),this.showImages=!1,this.showChangeVisit=!0},onReset:function(){this.form=this.itemsVisitDetail},onDelete:function(t,e){var i=this,n=confirm("Are you sure want to delete this Visit Detail Instance?");n?k.a.delete(this.urlDetailVisit+t+"/",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(){return e.toggleDetails()})).then((function(){return i.items.splice(e.index,1)})).then((function(){return i.onUpdate()})):alert("Visit is not deleted")},onSubmit:function(t,e){var i=this;k.a.put(this.urlDetailVisit+t+"/",this.form,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){return i.applyChange(t.data,e)})).catch((function(t){alert("FAILURE!!")})).then((function(){return i.onUpdate()})).then((function(){return e.toggleDetails()}))},onUpdate:function(){this.$refs.table.refresh()},applyChange:function(t,e){e.item.date_visit=t.date_visit,e.item.manic=t.manic,e.item.nomanic=t.nomanic,e.item.cor_manic=t.cor_manic,e.item.cor_no_manic=t.cor_no_manic,e.item.pay=t.pay},addImage:function(t,e){var i=this;if(!this.addImageForm.main_image)return alert("image is not selected");this.addImageForm.visit=t,this.$refs.dropdown.hide(!0);var n=new FormData;n.append("main_image",this.addImageForm.main_image),k.a.post(this.urlImagePost,this.addImageForm,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){i.imagePutId=[t.data.id]})).then((function(){n.get("main_image")&&k.a.put(i.urlImagePut+i.imagePutId+"/",n,{headers:{"Content-Type":"multipart/form-data",Accept:"application/json"}}).then((function(t){e.push(t.data)})).then((function(){return i.onUpdate()}))})).catch((function(t){alert("FAILURE!!")})).then((function(){return alert("your changes are accepted!")}))},imageDelete:function(t){var e=this,i=confirm("delete this photo?");i?k.a.delete(this.urlImageDelete+t.id_delete+"/",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(){return t.row.splice(t.row.indexOf(t.id_refresh),1)})).then((function(){return e.onUpdate()})).then((function(){return e.$refs.modal.hide()})):alert("Images is not deleted")}},mounted:function(){var t=this;k.a.get(this.url).then((function(e){t.items=e.data.visit})).catch((function(e){console.log(e),t.errored=!0})).finally((function(){return t.loading=!1}))}},A=O,V=Object(u["a"])(A,T,P,!1,null,"5436f41a",null),j=V.exports,$=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-form",{attrs:{inline:""}},[i("b-form-group",{attrs:{id:"input-1",label:"Date:","label-for":"input-1"}},[i("b-form-input",{staticClass:"mb-2 mr-lg-2-2 mb-lg-0",attrs:{type:"date",id:"input-1"},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),i("b-form-group",{attrs:{id:"input-2",label:"Date:","label-for":"input-2"}},[i("b-form-input",{attrs:{type:"date",id:"input-2"},model:{value:t.finishDate,callback:function(e){t.finishDate=e},expression:"finishDate"}})],1),i("b-button",{attrs:{pill:"",variant:"success"},on:{click:function(e){return t.onSubmit()}}},[t._v("Submit")])],1),t.itemSplit[0]?i("b-container",{staticClass:"p-4 bg-dark",attrs:{fluid:""}},t._l(t.itemSplit,(function(e){return i("b-row",t._l(e,(function(e){return i("b-col",[i("b-img-lazy",{directives:[{name:"b-modal",rawName:"v-b-modal.modal",modifiers:{modal:!0}}],attrs:{thumbnail:"",fluid:"",src:e.main_image,height:"250px",width:"250px"},nativeOn:{click:function(i){t.imageModal=e}}})],1)})),1)})),1):i("b-container",[i("b-carousel",{staticStyle:{"text-shadow":"0px 0px 2px #000"},attrs:{id:"carousel-no-animation","no-animation":"",indicators:"","img-width":"1024","img-height":"480"}},[i("b-carousel-slide",{attrs:{caption:"First slide","img-src":"https://picsum.photos/1024/480/?image=10"}}),i("b-carousel-slide",{attrs:{caption:"Second Slide","img-src":"https://picsum.photos/1024/480/?image=12"}}),i("b-carousel-slide",{attrs:{caption:"Third Slide","img-src":"https://picsum.photos/1024/480/?image=22"}}),i("b-carousel-slide",{attrs:{caption:"Fourth Slide","img-src":"https://picsum.photos/1024/480/?image=23"}})],1)],1),i("div",[i("b-modal",{ref:"modal",attrs:{id:"modal",size:"xl",centered:""}},[i("b-img",{attrs:{src:t.imageModal.main_image,width:"1000px",height:"1000px"}}),i("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.onDelete(t.imageModal)}}},[t._v("DELETE")])],1)],1)],1)},R=[],F=(i("ac4d"),i("8a81"),i("ac6a"),{data:function(){return{startDate:(new Date).toISOString().slice(0,10),finishDate:(new Date).toISOString().slice(0,10),items:null,itemSplit:[],imageModal:"",urlImageDelete:"http://127.0.0.1:8000/image_create/"}},methods:{onDelete:function(t){var e=this,i=confirm(t.id);i?k.a.delete(this.urlImageDelete+t.id+"/",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(){return e.items.splice(e.items.indexOf(t),1)})).then((function(){return e.itemSplit=[]})).then((function(){return e.splitItems()})).then((function(){return e.$refs.modal.hide()})):alert("Images is not deleted")},splitItems:function(){this.itemSplit=[];var t=[],e=0,i=[],n=!0,a=!1,r=void 0;try{for(var o,l=this.items[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value,c=!0,u=!1,m=void 0;try{for(var f,d=s.image[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var p=f.value;i.push(p)}}catch(g){u=!0,m=g}finally{try{c||null==d.return||d.return()}finally{if(u)throw m}}}}catch(g){a=!0,r=g}finally{try{n||null==l.return||l.return()}finally{if(a)throw r}}for(var h=0,b=i;h<b.length;h++){var v=b[h];e++,t.push(v),7!==e&&i.indexOf(v)+1!==i.length||(this.itemSplit.push(t),t=[],e=0)}},onSubmit:function(){var t=this;k.a.get("http://127.0.0.1:8000/visits/?client=".concat(this.$route.params.id,"&format=json&visit_after=").concat(this.startDate,"&visit_before=").concat(this.finishDate),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){t.items=e.data,t.splitItems()})).catch((function(e){console.log(e),t.errored=!0})).finally((function(){return t.loading=!1}))}}}),N=F,L=Object(u["a"])(N,$,R,!1,null,"d0a1616c",null),M=L.exports,U={name:"ClientDetail",components:{ClientVisitDetail:j,ClientDataDetail:E,ClientImage:M}},z=U,H=Object(u["a"])(z,_,y,!1,null,"70a75258",null),Y=H.exports,q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-form",{attrs:{inline:""}},[i("b-form-group",{attrs:{id:"input-0",label:"Client:","label-for":"input-0"}},[i("b-form-select",{attrs:{id:"input-0",options:t.optionsClientName},scopedSlots:t._u([{key:"first",fn:function(){return[i("option",{attrs:{value:""}},[t._v("-- not use filter client --")])]},proxy:!0}]),model:{value:t.client,callback:function(e){t.client=e},expression:"client"}})],1),i("b-form-group",{attrs:{id:"input-1",label:"Date:","label-for":"input-1"}},[i("b-form-input",{staticClass:"mb-2 mr-lg-2-2 mb-lg-0",attrs:{type:"date",id:"input-1"},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),i("b-form-group",{attrs:{id:"input-2",label:"Date:","label-for":"input-2"}},[i("b-form-input",{attrs:{type:"date",id:"input-2"},model:{value:t.finishDate,callback:function(e){t.finishDate=e},expression:"finishDate"}})],1),i("b-button",{attrs:{pill:"",variant:"success"},on:{click:function(e){return t.onSubmit()}}},[t._v("Submit")])],1),t.itemSplit[0]?i("b-container",{staticClass:"p-4 bg-dark",attrs:{fluid:""}},t._l(t.itemSplit,(function(e){return i("b-row",t._l(e,(function(e){return i("b-col",[i("b-img-lazy",{directives:[{name:"b-modal",rawName:"v-b-modal.modal",modifiers:{modal:!0}}],attrs:{thumbnail:"",fluid:"",src:e.main_image,height:"250px",width:"250px"},nativeOn:{click:function(i){t.imageModal=e}}})],1)})),1)})),1):i("b-container",[i("b-carousel",{staticStyle:{"text-shadow":"0px 0px 2px #000"},attrs:{id:"carousel-no-animation","no-animation":"",indicators:"","img-width":"1024","img-height":"480"}},[i("b-carousel-slide",{attrs:{caption:"First slide","img-src":"https://picsum.photos/1024/480/?image=10"}}),i("b-carousel-slide",{attrs:{caption:"Second Slide","img-src":"https://picsum.photos/1024/480/?image=12"}}),i("b-carousel-slide",{attrs:{caption:"Third Slide","img-src":"https://picsum.photos/1024/480/?image=22"}}),i("b-carousel-slide",{attrs:{caption:"Fourth Slide","img-src":"https://picsum.photos/1024/480/?image=23"}})],1)],1),i("div",[i("b-modal",{ref:"modal",attrs:{id:"modal",size:"xl",centered:""}},[i("b-img",{attrs:{src:t.imageModal.main_image,width:"1000px",height:"1000px"}}),i("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.onDelete(t.imageModal)}}},[t._v("DELETE")])],1)],1)],1)},G=[],W={data:function(){return{client:"",optionsClientName:[],startDate:(new Date).toISOString().slice(0,10),finishDate:(new Date).toISOString().slice(0,10),items:null,itemSplit:[],imageModal:"",urlImageDelete:"http://127.0.0.1:8000/image_create/"}},methods:{onDelete:function(t){var e=this,i=confirm(t);console.log(this),i?k.a.delete(this.urlImageDelete+t.id+"/",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(){return e.items.splice(e.items.indexOf(t),1)})).then((function(){return e.itemSplit=[]})).then((function(){return e.splitItems()})).then((function(){return e.$refs.modal.hide()})):alert("Images is not deleted")},splitItems:function(){this.itemSplit=[];var t=[],e=0,i=[],n=!0,a=!1,r=void 0;try{for(var o,l=this.items[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value,c=!0,u=!1,m=void 0;try{for(var f,d=s.image[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var p=f.value;i.push(p)}}catch(g){u=!0,m=g}finally{try{c||null==d.return||d.return()}finally{if(u)throw m}}}}catch(g){a=!0,r=g}finally{try{n||null==l.return||l.return()}finally{if(a)throw r}}for(var h=0,b=i;h<b.length;h++){var v=b[h];e++,t.push(v),7!==e&&i.indexOf(v)+1!==i.length||(this.itemSplit.push(t),t=[],e=0)}},onSubmit:function(){var t=this;k.a.get("http://127.0.0.1:8000/visits/?client=".concat(this.client,"&format=json&visit_after=").concat(this.startDate,"&visit_before=").concat(this.finishDate),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){t.items=e.data,t.splitItems()})).catch((function(e){console.log(e),t.errored=!0})).finally((function(){return t.loading=!1}))},getClient:function(){var t=!0,e=!1,i=void 0;try{for(var n,a=this.items[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){var r=n.value,o={};o.text=r.first_name+" "+r.last_name,o.value=r.id,this.optionsClientName.push(o)}}catch(l){e=!0,i=l}finally{try{t||null==a.return||a.return()}finally{if(e)throw i}}}},mounted:function(){var t=this;k.a.get("http://127.0.0.1:8000/listclients/?format=json").then((function(e){t.items=e.data})).then((function(){return t.getClient()})).catch((function(e){console.log(e),t.errored=!0})).finally((function(){return t.loading=!1}))}},B=W,J=Object(u["a"])(B,q,G,!1,null,"3d651bb6",null),K=J.exports,Q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("b-table",{ref:"table",attrs:{items:t.itemsCalendar,fields:t.fieldsTable,bordered:"",hover:"",fixed:""},scopedSlots:t._u([{key:"cell()",fn:function(e){return[i("b",{on:{click:function(i){return t.showModal(e.value)}}},[t._v(t._s(t.viewData(e.value).date))]),i("p",{on:{click:function(i){return t.showModal(e.value)}}},[t._v("_______________")]),t._l(t.viewData(e.value).client,(function(n){return i("p",{on:{click:function(i){return t.showModal(e.value)}}},[t._v(t._s(n))])}))]}}])})],1),i("div",[i("b-modal",{ref:"modal",attrs:{id:"modal",centered:"","ok-only":""}},[i("b-table",{attrs:{items:t.itemsDayList,dark:"",bordered:"",hover:"",fixed:"","no-body":""},scopedSlots:t._u([{key:"cell(Client)",fn:function(e){return[e.value?i("b-card",{attrs:{overlay:"","img-src":"https://picsum.photos/900/250/?image=3"}},[t._v(t._s(e.value))]):t._e()]}}])}),i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modalPushForm",modifiers:{modalPushForm:!0}}],attrs:{variant:"success",pill:""}},[t._v("New event")])],1),i("b-modal",{ref:"modalPushForm",attrs:{id:"modalPushForm","ok-only":"",centered:""}},[i("b-form",[i("b-form-group",{attrs:{label:"Date:"}},[i("b-form-input",{attrs:{type:"date",min:t.startDate,max:t.finishDate},model:{value:t.startDay,callback:function(e){t.startDay=e},expression:"startDay"}})],1),i("b-form-group",{attrs:{label:"Time:"}},[i("b-form-input",{attrs:{type:"time",min:"08:00",max:"18:00"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1),i("b-form-group",{attrs:{label:"Description"}},[i("b-form-input",{model:{value:t.formEvent.description,callback:function(e){t.$set(t.formEvent,"description",e)},expression:"formEvent.description"}})],1),i("b-form-group",{attrs:{label:"what you need"}},[i("b-form-input",{model:{value:t.formEvent.summary,callback:function(e){t.$set(t.formEvent,"summary",e)},expression:"formEvent.summary"}})],1),i("b-form-group",{attrs:{label:"your email"}},[i("b-form-input",{model:{value:t.formEvent.attendees,callback:function(e){t.$set(t.formEvent,"attendees",e)},expression:"formEvent.attendees"}})],1),i("b-button",{attrs:{variant:"success",pill:""},on:{click:t.createEvent}},[t._v("Event")])],1)],1),i("iframe",{staticStyle:{border:"0"},attrs:{src:"https://calendar.google.com/calendar/embed?src=3heg1bu3gvoqmplmp5kpqn56ic%40group.calendar.google.com&ctz=America%2FLos_Angeles",width:"800",height:"600",frameborder:"0",scrolling:"no"}})],1)])},X=[],Z=(i("6b54"),i("28a5"),{data:function(){return{items:null,value:null,startDay:"",startTime:"",get:new Date,startDate:(new Date).toISOString().slice(0,10),finishDate:new Date((new Date).setDate((new Date).getDate()+30)).toISOString().slice(0,10),itemsCalendar:[],fieldsTable:[{key:"date0",label:"Sunday"},{key:"date1",label:"Monday"},{key:"date2",label:"Tuesday"},{key:"date3",label:"Wednesday"},{key:"date4",label:"Thursday"},{key:"date5",label:"Friday"},{key:"date6",label:"Saturday"}],fieldsDay:[{key:"Time",label:"Time"}],fieldsDayClient:[{key:"Client",label:"Client"}],itemsDayList:[],formEvent:{status:"",htmlLink:"",creator:"",start:"",end:"",description:"",summary:"",attendees:""},fields:[{key:"start",label:"date start"},{key:"end",label:"date end"},{key:"description",label:"description"},{key:"summary",label:"title"},{key:"attendees",label:"client"}],urlCalendar:"http://127.0.0.1:8000/calendar/"}},methods:{viewData:function(t){var e={};return e["date"]=t.slice(0,6),e["client"]=t.slice(6).split("/"),e},showModal:function(t){this.itemsDayDefault(),t=t.slice(6).split("/");var e=!0,i=!1,n=void 0;try{for(var a,r=t[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){var o=a.value;for(var l in this.itemsDayList)this.itemsDayList[l].Time===o.slice(0,5)&&(this.itemsDayList[l].Client=o.slice(8))}}catch(s){i=!0,n=s}finally{try{e||null==r.return||r.return()}finally{if(i)throw n}}this.$refs["modal"].show()},createEvent:function(){this.formEvent.start=this.startDay+"T"+this.startTime+":00",k.a.post(this.urlCalendar,this.formEvent,{headers:{"Content-Type":"application/json",Accept:"application/json"}})},bindGoogleCalendar:function(t){var e="",i=!0,n=!1,a=void 0;try{for(var r,o=this.items[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var l=r.value;l.start.slice(0,10)===t.toISOString().slice(0,10)&&(e+=l.start.slice(11,16)+" - "+l.description+"/")}}catch(s){n=!0,a=s}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}return t=t.toString().slice(4,10)+e,t},itemsDayDefault:function(){this.itemsDayList=[{Time:"08:00",Client:""},{Time:"09:00",Client:""},{Time:"10:00",Client:""},{Time:"11:00",Client:""},{Time:"12:00",Client:""},{Time:"13:00",Client:""},{Time:"14:00",Client:""},{Time:"15:00",Client:""},{Time:"16:00",Client:""},{Time:"17:00",Client:""},{Time:"18:00",Client:""},{Time:"19:00",Client:""}]},getItemsCalendar:function(){var t=this.get.getDay(),e=this.get.getDay(),i=0,n={};while(e>0)n["date"+(t.toString()-e)]=new Date((new Date).setDate((new Date).getDate()-e)).toString().slice(4,10),e--;while(i-(6-this.get.getDay())<22)n["date"+t.toString()]=new Date((new Date).setDate((new Date).getDate()+i)),n["date"+t.toString()]=this.bindGoogleCalendar(n["date"+t.toString()]),i++,t++,7===t&&(t=0,n["_cellVariants"]={date0:"danger",date6:"danger",date1:"info",date2:"info",date3:"info",date4:"info",date5:"info"},this.itemsCalendar.push(n),n={})}},mounted:function(){var t=this;k.a.get(this.urlCalendar).then((function(e){return t.items=e.data})).then((function(){return t.getItemsCalendar()}))}}),tt=Z,et=Object(u["a"])(tt,Q,X,!1,null,"ad9cdeb8",null),it=et.exports,nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",{attrs:{fluid:""}},[i("b-row",[i("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[i("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"filterInput"}},[i("b-input-group",{attrs:{size:"sm"}},[i("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Type to Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),i("b-input-group-append",[i("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1),i("b-col",{staticClass:"my-1",attrs:{sm:"5",md:"6"}},[i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.visit",modifiers:{visit:!0}}],attrs:{pill:"",variant:"success"}},[t._v("Add new visit")]),i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.client",modifiers:{client:!0}}],attrs:{pill:"",variant:"outline-warning"}},[t._v("Add new client")])],1),i("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}},[i("b-form-group",{staticClass:"mb-0",attrs:{label:"Per page","label-cols-sm":"20","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right","label-size":"sm","label-for":"perPageSelect"}},[i("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1)],1),i("div",{staticClass:"mt-3"},[i("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage,"aria-controls":"main_table",align:"fill",size:"sm"},scopedSlots:t._u([{key:"first-text",fn:function(){return[i("span",{staticClass:"text-info"},[t._v("First")])]},proxy:!0},{key:"prev-text",fn:function(){return[i("span",{staticClass:"text-success"},[t._v("Prev")])]},proxy:!0},{key:"next-text",fn:function(){return[i("span",{staticClass:"text-success"},[t._v("Next")])]},proxy:!0},{key:"last-text",fn:function(){return[i("span",{staticClass:"text-info"},[t._v("Last")])]},proxy:!0}]),model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),i("b-table",{ref:"table",attrs:{"show-empty":"",striped:"",hover:"",id:"main_table",stacked:"md",items:t.items,fields:t.fields,"total-rows":t.totalRows,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[t._v("\n      "+t._s(e.index+1)+"\n    ")]}},{key:"cell(foto)",fn:function(t){return[i("img",{attrs:{src:t.item.foto,width:"100px",height:"150px"}})]}},{key:"cell(url)",fn:function(e){return[i("b-button",{attrs:{pill:"",variant:"outline-primary",href:"/client/"+e.item.id}},[t._v("Detail")])]}},{key:"cell(delete)",fn:function(e){return[i("b-button",{attrs:{pill:"",variant:"danger"},on:{click:function(i){return t.deleteClient(e)}}},[t._v("delete")])]}}])}),i("div",{staticClass:"mt-3"},[i("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage,"aria-controls":"main_table",align:"fill",size:"lg"},scopedSlots:t._u([{key:"first-text",fn:function(){return[i("span",{staticClass:"text-info"},[t._v("First")])]},proxy:!0},{key:"prev-text",fn:function(){return[i("span",{staticClass:"text-success"},[t._v("Prev")])]},proxy:!0},{key:"next-text",fn:function(){return[i("span",{staticClass:"text-success"},[t._v("Next")])]},proxy:!0},{key:"last-text",fn:function(){return[i("span",{staticClass:"text-info"},[t._v("Last")])]},proxy:!0}]),model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),i("div",[i("b-modal",{ref:"modal",attrs:{id:"client",size:"xl",centered:""}},[i("b-form-group",{attrs:{id:"input-1",label:"FIRST NAME:","label-for":"input-2"}},[i("b-form-input",{attrs:{id:"input 1"},model:{value:t.form.first_name,callback:function(e){t.$set(t.form,"first_name",e)},expression:"form.first_name"}})],1),i("b-form-group",{attrs:{id:"input-group-2",label:"LAST NAME:","label-for":"input-2"}},[i("b-form-input",{attrs:{id:"input-3"},model:{value:t.form.last_name,callback:function(e){t.$set(t.form,"last_name",e)},expression:"form.last_name"}})],1),i("b-form-group",{attrs:{id:"input-group-3",label:"TELEPHONE:","label-for":"input-3"}},[i("b-form-input",{attrs:{id:"input-3"},model:{value:t.form.telepfon,callback:function(e){t.$set(t.form,"telepfon",e)},expression:"form.telepfon"}})],1),i("b-form-group",{attrs:{id:"input-group-4",label:"PHOTO:","label-for":"input-4"}},[i("b-form-file",{attrs:{id:"input-4"},model:{value:t.form.foto,callback:function(e){t.$set(t.form,"foto",e)},expression:"form.foto"}})],1),i("b-form-group",{attrs:{id:"input-group-5",label:"IS ACTIVE?"}},[i("b-form-group",{model:{value:t.form.active,callback:function(e){t.$set(t.form,"active",e)},expression:"form.active"}},[i("b-form-radio",{attrs:{name:"active",value:"true"},model:{value:t.form.active,callback:function(e){t.$set(t.form,"active",e)},expression:"form.active"}},[t._v("ACTIVE")]),i("b-form-radio",{attrs:{name:"active",value:"false"},model:{value:t.form.active,callback:function(e){t.$set(t.form,"active",e)},expression:"form.active"}},[t._v("NO ACTIVE")])],1)],1),i("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:t.onSubmit}},[t._v("Submit")]),i("b-button",{attrs:{type:"reset",variant:"danger"},on:{click:t.onReset}},[t._v("Reset")])],1),i("b-modal",{ref:"modal_visit",attrs:{id:"visit",size:"xl",centered:""}},[i("b-form",[i("b-form-group",{attrs:{id:"input-group-3",label:"Client","label-for":"input-3"}},[i("b-form-select",{attrs:{id:"input-3",options:t.optionsClientName,required:"",placeholder:"select name"},model:{value:t.formVisit.client,callback:function(e){t.$set(t.formVisit,"client",e)},expression:"formVisit.client"}})],1),i("b-form-group",{attrs:{id:"input-1",label:"Date:","label-for":"input-1"}},[i("b-form-input",{attrs:{type:"date",id:"input-1",required:""},model:{value:t.formVisit.date_visit,callback:function(e){t.$set(t.formVisit,"date_visit",e)},expression:"formVisit.date_visit"}})],1),i("b-form-group",{attrs:{id:"input-group-2"}},[i("b-form-checkbox",{attrs:{name:"active",value:"true"},model:{value:t.formVisit.manic,callback:function(e){t.$set(t.formVisit,"manic",e)},expression:"formVisit.manic"}},[t._v("MANICURE")])],1),i("b-form-group",{attrs:{id:"input-group-3",l:""}},[i("b-form-checkbox",{attrs:{name:"active",value:"true"},model:{value:t.formVisit.nomanic,callback:function(e){t.$set(t.formVisit,"nomanic",e)},expression:"formVisit.nomanic"}},[t._v("PEDICURE")])],1),i("b-form-group",{attrs:{id:"input-group-4"}},[i("b-form-checkbox",{attrs:{name:"active",value:"true"},model:{value:t.formVisit.cor_manic,callback:function(e){t.$set(t.formVisit,"cor_manic",e)},expression:"formVisit.cor_manic"}},[t._v("MANICURE CORRECTION")])],1),i("b-form-group",{attrs:{id:"input-group-5"}},[i("b-form-checkbox",{attrs:{name:"active",value:"true"},model:{value:t.formVisit.cor_no_manic,callback:function(e){t.$set(t.formVisit,"cor_no_manic",e)},expression:"formVisit.cor_no_manic"}},[t._v("PEDICURE CORRECTION")])],1),i("b-form-group",{attrs:{id:"input-6",label:"PAY:","label-for":"input-2"}},[i("b-form-input",{attrs:{type:"number",required:"",id:"input-6",placeholder:"enter pay sum"},model:{value:t.formVisit.pay,callback:function(e){t.$set(t.formVisit,"pay",e)},expression:"formVisit.pay"}})],1),i("b-form-group",{attrs:{id:"input-group-5"}},[i("b-form-file",{attrs:{placeholder:"Choose a image it here...",multiple:""},model:{value:t.formImageList,callback:function(e){t.formImageList=e},expression:"formImageList"}})],1),i("b-button",{attrs:{pill:"",variant:"success"},on:{click:t.saveVisit}},[t._v("Save new visit")]),i("b-button",{attrs:{pill:"",variant:"warning"},on:{click:t.onReset}},[t._v("Reset")])],1)],1)],1)],1)},at=[],rt={data:function(){return{items:null,newClient:null,client:{text:"",value:""},optionsClientName:[],fields:["index",{key:"first_name",label:"Person first name",sortable:!0,sortDirection:"desc"},{key:"last_name",label:"Person last name",sortable:!0,class:"text-center"},{key:"active",label:"is Active",formatter:function(t){return t?"Active":"No"},sortable:!0,sortByFormatted:!0,filterByFormatted:!0},{key:"foto",label:"Photo",sortable:!1},{key:"url",label:"Detail",sortable:!1},"delete"],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,20,30],filter:null,form:{first_name:"",last_name:"",telepfon:"",active:"",foto:""},formImage:{visit:null,item:null},formImageList:[],formVisit:{client:"",date_visit:"",manic:!1,nomanic:!1,cor_manic:!1,cor_no_manic:!1,pay:""},urlCreateClient:"http://127.0.0.1:8000/create-client/",urlDeleteClient:"http://127.0.0.1:8000/clients/",urlPhotoPut:"http://127.0.0.1:8000/photo/",urlCreateVisit:"http://127.0.0.1:8000/visit_detail/",urlImagePost:"http://127.0.0.1:8000/images/",urlImagePut:"http://127.0.0.1:8000/image_create/"}},computed:{sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},mounted:function(){var t=this;k.a.get("http://127.0.0.1:8000/listclients/?format=json").then((function(e){t.items=e.data})).then((function(){return t.totalRows=t.items.length})).then((function(){return t.getClient()})).catch((function(e){console.log(e),t.errored=!0})).finally((function(){return t.loading=!1}))},methods:{addImageVisit:function(){var t=this;if(this.formImageList){var e=!0,i=!1,n=void 0;try{for(var a,r=function(){var e=a.value;console.log(e);var i=null,n=new FormData;n.append("main_image",e),k.a.post(t.urlImagePost,t.formImage,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){i=[t.data.id]})).then((function(){k.a.put(t.urlImagePut+i+"/",n,{headers:{"Content-Type":"multipart/form-data",Accept:"application/json"}})})).catch((function(t){alert("FAILURE!!")}))},o=this.formImageList[Symbol.iterator]();!(e=(a=o.next()).done);e=!0)r()}catch(l){i=!0,n=l}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}}},saveVisit:function(){var t=this;k.a.post(this.urlCreateVisit,this.formVisit,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){t.formImage.visit=e.data.id,t.formImage.item=e.data.client})).then((function(){return t.addImageVisit()})).then((function(){return t.$refs.modal_visit.hide()})).then((function(){return t.onReset()})).catch((function(t){alert("FAILURE!!")}))},onUpdate:function(){this.$refs.table.refresh()},onReset:function(){this.formVisit={client:"",date_visit:"",manic:!1,nomanic:!1,cor_manic:!1,cor_no_manic:!1,pay:""},this.formImage={visit:null,item:null},this.formImageList=[],this.form={first_name:"",last_name:"",telepfon:"",active:"",foto:""}},getClient:function(){this.optionsClientName=[];var t=!0,e=!1,i=void 0;try{for(var n,a=this.items[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){var r=n.value;this.client={},this.client.text=r.first_name+" "+r.last_name,this.client.value=r.id,this.optionsClientName.push(this.client)}}catch(o){e=!0,i=o}finally{try{t||null==a.return||a.return()}finally{if(e)throw i}}},deleteClient:function(t){var e=this;k.a.delete(this.urlDeleteClient+t.item.id+"/",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(){return e.items.splice(t.index,1)})).then((function(){return e.onUpdate()}))},onSubmit:function(){var t=this,e=new FormData;e.append("foto",this.form.foto),k.a.post(this.urlCreateClient,this.form,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){t.newClient=e.data})).then((function(){e.get("foto")&&k.a.put(t.urlPhotoPut+t.newClient.id+"/",e,{headers:{"Content-Type":"multipart/form-data",Accept:"application/json"}}).then((function(e){t.newClient.foto=e.data.foto}))})).then((function(){return t.items.push(t.newClient)})).then((function(){return t.getClient()})).catch((function(t){alert("FAILURE!!")})).then((function(){return alert("your changes are accepted!")})).then((function(){return t.$refs.modal.hide()})).then((function(){return t.onReset()})).then((function(){return t.onUpdate()}))},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}}},ot=rt,lt=Object(u["a"])(ot,nt,at,!1,null,null,null),st=lt.exports;n["default"].use(g["a"]),n["default"].use(v["a"]),n["default"].config.productionTip=!1;var ct=new g["a"]({routes:[{path:"/image",component:K},{path:"/calendar",component:it},{path:"/clients_list",component:st},{path:"/client/:id",component:Y},{path:"*",redirect:"/image"}],mode:"history"});new n["default"]({router:ct,render:function(t){return t(b)}}).$mount("#app")},"64a9":function(t,e,i){}});
//# sourceMappingURL=app.76b453c3.js.map